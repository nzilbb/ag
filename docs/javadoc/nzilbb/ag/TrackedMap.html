<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.6) on Fri Feb 14 18:54:24 UYT 2020 -->
<title>TrackedMap (nzilbb.ag)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-02-14">
<link rel="stylesheet" type="text/css" href="../../style.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TrackedMap (nzilbb.ag)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":9,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">nzilbb.ag</a></div>
<h2 title="Class TrackedMap" class="title">Class TrackedMap</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>AbstractMap&lt;K,&#8203;V&gt;</li>
<li>
<ul class="inheritance">
<li>HashMap&lt;K,&#8203;V&gt;</li>
<li>
<ul class="inheritance">
<li>LinkedHashMap&lt;String,&#8203;Object&gt;</li>
<li>
<ul class="inheritance">
<li>TrackedMap</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>Serializable</code>, <code>Cloneable</code>, <code>Map&lt;String,&#8203;Object&gt;</code>, <code>IJSONableBean</code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="Anchor.html" title="class in nzilbb.ag">Anchor</a></code>, <code><a href="Annotation.html" title="class in nzilbb.ag">Annotation</a></code>, <code><a href="Layer.html" title="class in nzilbb.ag">Layer</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">TrackedMap</span>
extends LinkedHashMap&lt;String,&#8203;Object&gt;
implements Cloneable, IJSONableBean</pre>
<div class="block">Base class for annotation graph classes, which encapsulates two common features of
 these classes:
 <ol>
  <li>Changes to specific attributes can be tracked and rolled back, by setting
   <a href="#getTracker()"><code>getTracker()</code></a>, which receives notification of all relevant changes.  Before 
   <a href="#getTracker()"><code>getTracker()</code></a> is set, no change registration is done, which the exception of calls
   to <a href="#create()"><code>create()</code></a> and <a href="#destroy()"><code>destroy()</code></a>, changes which are remembered and passed
   to the <a href="ChangeTracker.html" title="class in nzilbb.ag"><code>ChangeTracker</code></a> when <a href="#setTracker(nzilbb.ag.ChangeTracker)"><code>setTracker(ChangeTracker)</code></a> is called (this
   is done so that <a href="Anchor.html" title="class in nzilbb.ag"><code>Anchor</code></a>s/<a href="Annotation.html" title="class in nzilbb.ag"><code>Annotation</code></a>s can be marked for creation before
   being added to a <a href="Graph.html" title="class in nzilbb.ag"><code>Graph</code></a>). </li>
  <li>Annotation graph classes (in particular <a href="Annotation.html" title="class in nzilbb.ag"><code>Annotation</code></a> and <a href="Anchor.html" title="class in nzilbb.ag"><code>Anchor</code></a> are
   defined as Maps not just to allow tracking of changes to registered attributes
   (key/value pairs), but also to allow them to easily be informally extended or tagged at
   runtime. This is with two particular possibilities in mind: 
   <ul>
    <li>An annotation is defined as a directed graph edge with a <var>label</var> and a
     <var>type</var> (which in this implementation is actually <var>layerId</var>), and an
     anchor is a  graph node with an optional <var>offset</var>, but there is scope of an
     annotation to include other attributes - not alternative annotation labels, but rather
     extra information about the annotation itself, which might include provenance,
     authorship, etc. This information can be set with arbitrarily named keys in the map
     as required.</li> 
    <li>During processing, it may be desirable or necessary to tag annotations or anchors
     in some way, e.g. to mark them as 'already visited' or 'already processed' by some
     traversal process, or to link together entities during merging of graphs, etc. This can
     be easily achieved by simply setting ad-hoc attributes on the entity as required.  Such
     'transient' attributes, which should ideally not be serialized for storage or transfer,
     are assumed to have keys that start with a non-alphabetic character -
     e.g. <var>"@otherGraphConterpart</var> - in contrast to 'sticky' attributes mentioned
     above.</li> 
   </ul>
  </li>
 </ol>
 <p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Robert Fromont robert@fromont.net.nz</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../serialized-form.html#nzilbb.ag.TrackedMap">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.java.util.AbstractMap">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;AbstractMap</h3>
<code>AbstractMap.SimpleEntry&lt;K extends Object,&#8203;V extends Object&gt;, AbstractMap.SimpleImmutableEntry&lt;K extends Object,&#8203;V extends Object&gt;</code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">TrackedMap</a></span>()</code></th>
<td class="colLast">
<div class="block">Default constructor</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clone()">clone</a></span>()</code></th>
<td class="colLast">
<div class="block">Override of Map's clone method, to copy only tracked attributes plus "id".</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cloneAttributesFrom(nzilbb.ag.TrackedMap,java.lang.String)">cloneAttributesFrom</a></span>&#8203;(<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;other,
                   String&nbsp;except)</code></th>
<td class="colLast">
<div class="block">Override of Map's clone method, to copy only tracked attributes plus "id".</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="Change.html" title="class in nzilbb.ag">Change</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#create()">create</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the object for creation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="Change.html" title="class in nzilbb.ag">Change</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#destroy()">destroy</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the object for deletion.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#equals(java.lang.Object)">equals</a></span>&#8203;(Object&nbsp;obj)</code></th>
<td class="colLast">
<div class="block">Indicates whether an object is "equal to" this one.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fromJson(org.json.JSONObject)">fromJson</a></span>&#8203;(JSONObject&nbsp;json)</code></th>
<td class="colLast">
<div class="block">Sets the object attributes using the given JSON representation.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(java.lang.Object)">get</a></span>&#8203;(Object&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Overrides Map method so that if scripting environments like JSTL's EL exclusively
 use get() for retrieving attributes, bean attributes will be available.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAnnotator()">getAnnotator</a></span>()</code></th>
<td class="colLast">
<div class="block">Getter for <a href="#annotator"><code>annotator</code></a>: Name of the person or system that created or changed
 this entity.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="Change.Operation.html" title="enum in nzilbb.ag">Change.Operation</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChange()">getChange</a></span>()</code></th>
<td class="colLast">
<div class="block">Determines how the object has changed since it was originally defined.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>List&lt;<a href="Change.html" title="class in nzilbb.ag">Change</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChanges()">getChanges</a></span>()</code></th>
<td class="colLast">
<div class="block">Produces a list of individual changes for the object.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>Set&lt;String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClonedAttributes()">getClonedAttributes</a></span>()</code></th>
<td class="colLast">
<div class="block">Keys for attributes that are cloned - i.e.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>Integer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConfidence()">getConfidence</a></span>()</code></th>
<td class="colLast">
<div class="block">Getter for <a href="#confidence"><code>confidence</code></a>: Confidence rating.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getId()">getId</a></span>()</code></th>
<td class="colLast">
<div class="block">Getter for <i>id</i>: The object's identifier.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>Method</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getter(nzilbb.ag.TrackedMap,java.lang.String)">getter</a></span>&#8203;(<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;object,
      String&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Access the class's getter for the given attribute.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>Set&lt;String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTrackedAttributes()">getTrackedAttributes</a></span>()</code></th>
<td class="colLast">
<div class="block">Keys for attributes that are change-tracked - i.e.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="ChangeTracker.html" title="class in nzilbb.ag">ChangeTracker</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTracker()">getTracker</a></span>()</code></th>
<td class="colLast">
<div class="block">Getter for <a href="#getTracker()"><code>getTracker()</code></a>: Object that tracks all changes to this object.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>Date</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWhen()">getWhen</a></span>()</code></th>
<td class="colLast">
<div class="block">Getter for <a href="#when"><code>when</code></a>: Date/time this entity was created or changed.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hashCode()">hashCode</a></span>()</code></th>
<td class="colLast">
<div class="block">Computes a hashCode for the object.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#JSONAttributes()">JSONAttributes</a></span>()</code></th>
<td class="colLast">
<div class="block">IJSONableBean implementation.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollback()">rollback</a></span>()</code></th>
<td class="colLast">
<div class="block">Rolls back changes since the object was created.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollback(java.lang.String)">rollback</a></span>&#8203;(String&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Rolls back an individual attribute change.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAnnotator(java.lang.String)">setAnnotator</a></span>&#8203;(String&nbsp;newAnnotator)</code></th>
<td class="colLast">
<div class="block">Setter for <a href="#annotator"><code>annotator</code></a>: Name of the person or system that created or changed this entity.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setConfidence(java.lang.Integer)">setConfidence</a></span>&#8203;(Integer&nbsp;newConfidence)</code></th>
<td class="colLast">
<div class="block">Setter for <a href="#confidence"><code>confidence</code></a>: Confidence rating.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setId(java.lang.String)">setId</a></span>&#8203;(String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Setter for <i>id</i>: The object's identifier.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static Method</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setter(nzilbb.ag.TrackedMap,java.lang.String)">setter</a></span>&#8203;(<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;object,
      String&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Access the class's getter for the given attribute.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTracker(nzilbb.ag.ChangeTracker)">setTracker</a></span>&#8203;(<a href="ChangeTracker.html" title="class in nzilbb.ag">ChangeTracker</a>&nbsp;newTracker)</code></th>
<td class="colLast">
<div class="block">Setter for <a href="#getTracker()"><code>getTracker()</code></a>: Object that tracks all changes to this object.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setWhen(java.util.Date)">setWhen</a></span>&#8203;(Date&nbsp;newWhen)</code></th>
<td class="colLast">
<div class="block">Setter for <a href="#when"><code>when</code></a>: Date/time this entity was created or changed.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#with(java.lang.String,java.lang.Object)">with</a></span>&#8203;(String&nbsp;key,
    Object&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Builder-pattern method for putting an arbitrary kay/value into the map.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.LinkedHashMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;LinkedHashMap</h3>
<code>clear, containsValue, entrySet, forEach, getOrDefault, keySet, replaceAll, values</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.HashMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;HashMap</h3>
<code>compute, computeIfAbsent, computeIfPresent, containsKey, isEmpty, merge, put, putAll, putIfAbsent, remove, remove, replace, replace, size</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.AbstractMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;AbstractMap</h3>
<code>toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Map">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;Map</h3>
<code>compute, computeIfAbsent, computeIfPresent, containsKey, isEmpty, merge, put, putAll, putIfAbsent, remove, remove, replace, replace, size</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TrackedMap</h4>
<pre>public&nbsp;TrackedMap()</pre>
<div class="block">Default constructor</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getTrackedAttributes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrackedAttributes</h4>
<pre class="methodSignature">public&nbsp;Set&lt;String&gt;&nbsp;getTrackedAttributes()</pre>
<div class="block">Keys for attributes that are change-tracked - i.e. when a new value is set for any of
 these attributes, and <a href="#getTracker()"><code>getTracker()</code></a> is set, the change is registered.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A set of attributes whose changes are tracked.</dd>
</dl>
</li>
</ul>
<a id="getClonedAttributes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClonedAttributes</h4>
<pre class="methodSignature">public&nbsp;Set&lt;String&gt;&nbsp;getClonedAttributes()</pre>
<div class="block">Keys for attributes that are cloned - i.e. when a subclass object is cloned, only
 these attributes are copied into the clone.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A set of attributes whose values are cloned.</dd>
</dl>
</li>
</ul>
<a id="JSONAttributes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JSONAttributes</h4>
<pre class="methodSignature">public&nbsp;String[]&nbsp;JSONAttributes()</pre>
<div class="block">IJSONableBean implementation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>JSONAttributes</code>&nbsp;in interface&nbsp;<code>IJSONableBean</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The names of fields to be obtained from the object.</dd>
</dl>
</li>
</ul>
<a id="fromJson(org.json.JSONObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fromJson</h4>
<pre class="methodSignature">public&nbsp;<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;fromJson&#8203;(JSONObject&nbsp;json)</pre>
<div class="block">Sets the object attributes using the given JSON representation.
 <p>All attributes are copied, including those that are not bean attributes; other
 are stored as map values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>json</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A reference to this object.</dd>
</dl>
</li>
</ul>
<a id="getTracker()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTracker</h4>
<pre class="methodSignature">public&nbsp;<a href="ChangeTracker.html" title="class in nzilbb.ag">ChangeTracker</a>&nbsp;getTracker()</pre>
<div class="block">Getter for <a href="#getTracker()"><code>getTracker()</code></a>: Object that tracks all changes to this object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Object that tracks all changes to this object.</dd>
</dl>
</li>
</ul>
<a id="setTracker(nzilbb.ag.ChangeTracker)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTracker</h4>
<pre class="methodSignature">public&nbsp;<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;setTracker&#8203;(<a href="ChangeTracker.html" title="class in nzilbb.ag">ChangeTracker</a>&nbsp;newTracker)</pre>
<div class="block">Setter for <a href="#getTracker()"><code>getTracker()</code></a>: Object that tracks all changes to this object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newTracker</code> - Object that tracks all changes to this object.</dd>
</dl>
</li>
</ul>
<a id="getId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre class="methodSignature">public&nbsp;String&nbsp;getId()</pre>
<div class="block">Getter for <i>id</i>: The object's identifier.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The object's identifier.</dd>
</dl>
</li>
</ul>
<a id="setId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setId</h4>
<pre class="methodSignature">public&nbsp;<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;setId&#8203;(String&nbsp;id)</pre>
<div class="block">Setter for <i>id</i>: The object's identifier.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The object's identifier.</dd>
</dl>
</li>
</ul>
<a id="getConfidence()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfidence</h4>
<pre class="methodSignature">public&nbsp;Integer&nbsp;getConfidence()</pre>
<div class="block">Getter for <a href="#confidence"><code>confidence</code></a>: Confidence rating.
 <p>By convention, this is a value between 0 and 100 (inclusive), 0
 meaning "no confidence and all" (e.g. a default value computed by interpolation),
 100 meaning "full confidence" (e.g. values set by a human annotator), and
 intermediate values conveying different degrees of confidence (e.g. 50 for values
 obtained by automatic annotation).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Confidence rating.</dd>
</dl>
</li>
</ul>
<a id="setConfidence(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConfidence</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setConfidence&#8203;(Integer&nbsp;newConfidence)</pre>
<div class="block">Setter for <a href="#confidence"><code>confidence</code></a>: Confidence rating.
 <p>By convention, this is a value between 0 and 100 (inclusive), 0
 meaning "no confidence and all" (e.g. a default value computed by interpolation),
 100 meaning "full confidence" (e.g. values set by a human annotator), and
 intermediate values conveying different degrees of confidence (e.g. 50 for values
 obtained by automatic annotation).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newConfidence</code> - Confidence rating.</dd>
</dl>
</li>
</ul>
<a id="getAnnotator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotator</h4>
<pre class="methodSignature">public&nbsp;String&nbsp;getAnnotator()</pre>
<div class="block">Getter for <a href="#annotator"><code>annotator</code></a>: Name of the person or system that created or changed
 this entity.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Name of the person or system that created or changed this entity.</dd>
</dl>
</li>
</ul>
<a id="setAnnotator(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAnnotator</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setAnnotator&#8203;(String&nbsp;newAnnotator)</pre>
<div class="block">Setter for <a href="#annotator"><code>annotator</code></a>: Name of the person or system that created or changed this entity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newAnnotator</code> - Name of the person or system that created or changed this entity.</dd>
</dl>
</li>
</ul>
<a id="getWhen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWhen</h4>
<pre class="methodSignature">public&nbsp;Date&nbsp;getWhen()</pre>
<div class="block">Getter for <a href="#when"><code>when</code></a>: Date/time this entity was created or changed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Date/time this entity was created or changed.</dd>
</dl>
</li>
</ul>
<a id="setWhen(java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWhen</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setWhen&#8203;(Date&nbsp;newWhen)</pre>
<div class="block">Setter for <a href="#when"><code>when</code></a>: Date/time this entity was created or changed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newWhen</code> - Date/time this entity was created or changed.</dd>
</dl>
</li>
</ul>
<a id="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre class="methodSignature">public&nbsp;<a href="Change.html" title="class in nzilbb.ag">Change</a>&nbsp;destroy()</pre>
<div class="block">Marks the object for deletion. If this is invoked before <a href="#setTracker(nzilbb.ag.ChangeTracker)"><code>setTracker(ChangeTracker)</code></a>
 is called, a Destroy change will nevertheless be tracked if 
 <a href="#setTracker(nzilbb.ag.ChangeTracker)"><code>setTracker(ChangeTracker)</code></a> is called later. 
 <p>This method is not called "delete()" because "delete" is a reserved word in
 Javascript, and we want these objects to be manipulable from Javascript.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The changes made during this operation.</dd>
</dl>
</li>
</ul>
<a id="create()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre class="methodSignature">public&nbsp;<a href="Change.html" title="class in nzilbb.ag">Change</a>&nbsp;create()</pre>
<div class="block">Marks the object for creation. If this is invoked before <a href="#setTracker(nzilbb.ag.ChangeTracker)"><code>setTracker(ChangeTracker)</code></a>
 is called, a Create change will nevertheless be tracked if 
 <a href="#setTracker(nzilbb.ag.ChangeTracker)"><code>setTracker(ChangeTracker)</code></a> is called later.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The changes made during this operation.</dd>
</dl>
</li>
</ul>
<a id="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;rollback()</pre>
<div class="block">Rolls back changes since the object was created. 
 The effect of this is to reset tracked attributes to be the same as their
 original values, and to remove any <a href="#destroy()"><code>destroy()</code></a> tag. If it has been tagged for
 <a href="#create()"><code>create()</code></a>, the tag remains in place.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>NullPointerException</code> - If <a href="#getTracker()"><code>getTracker()</code></a> is not set (changes can only be
 rolled back if there's a <a href="ChangeTracker.html" title="class in nzilbb.ag"><code>ChangeTracker</code></a> that knows what has changed).</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getTrackedAttributes()"><code>getTrackedAttributes()</code></a></dd>
</dl>
</li>
</ul>
<a id="rollback(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;rollback&#8203;(String&nbsp;key)</pre>
<div class="block">Rolls back an individual attribute change.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The name of the attribute to roll back.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>NullPointerException</code> - If <a href="#getTracker()"><code>getTracker()</code></a> is not set (changes can only be
 rolled back if there's a <a href="ChangeTracker.html" title="class in nzilbb.ag"><code>ChangeTracker</code></a> that knows what has changed).</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getTrackedAttributes()"><code>getTrackedAttributes()</code></a></dd>
</dl>
</li>
</ul>
<a id="getChange()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChange</h4>
<pre class="methodSignature">public&nbsp;<a href="Change.Operation.html" title="enum in nzilbb.ag">Change.Operation</a>&nbsp;getChange()</pre>
<div class="block">Determines how the object has changed since it was originally defined.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>How/whether the object has been changed. If <a href="#getTracker()"><code>getTracker()</code></a> has not been
 set, then only create or destroy changes can be returned.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getTrackedAttributes()"><code>getTrackedAttributes()</code></a></dd>
</dl>
</li>
</ul>
<a id="getChanges()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChanges</h4>
<pre class="methodSignature">public&nbsp;List&lt;<a href="Change.html" title="class in nzilbb.ag">Change</a>&gt;&nbsp;getChanges()</pre>
<div class="block">Produces a list of individual changes for the object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of individual changes for the object.</dd>
</dl>
</li>
</ul>
<a id="with(java.lang.String,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>with</h4>
<pre class="methodSignature">public&nbsp;<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;with&#8203;(String&nbsp;key,
                       Object&nbsp;value)</pre>
<div class="block">Builder-pattern method for putting an arbitrary kay/value into the map.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - </dd>
<dd><code>value</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="get(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre class="methodSignature">public&nbsp;Object&nbsp;get&#8203;(Object&nbsp;key)</pre>
<div class="block">Overrides Map method so that if scripting environments like JSTL's EL exclusively
 use get() for retrieving attributes, bean attributes will be available.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>get</code>&nbsp;in interface&nbsp;<code>Map&lt;String,&#8203;Object&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>get</code>&nbsp;in class&nbsp;<code>LinkedHashMap&lt;String,&#8203;Object&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The attribute key.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The attribute value.</dd>
</dl>
</li>
</ul>
<a id="clone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre class="methodSignature">public&nbsp;Object&nbsp;clone()</pre>
<div class="block">Override of Map's clone method, to copy only tracked attributes plus "id".</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>clone</code>&nbsp;in class&nbsp;<code>HashMap&lt;String,&#8203;Object&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A copy of the object, including only the values of the tracked attributes.</dd>
</dl>
</li>
</ul>
<a id="cloneAttributesFrom(nzilbb.ag.TrackedMap,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneAttributesFrom</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;cloneAttributesFrom&#8203;(<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;other,
                                String&nbsp;except)</pre>
<div class="block">Override of Map's clone method, to copy only tracked attributes plus "id".</div>
</li>
</ul>
<a id="hashCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;hashCode()</pre>
<div class="block">Computes a hashCode for the object. 
 <p>Map (base class) has a very mutable hashCode, but we don't want Annotation
 hashcodes changing whenever arbitrary elements change (otherwise they get lost in
 hash-based collections, etc.).  So this implementation returns the hashcode of the
 annotation's id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>hashCode</code>&nbsp;in interface&nbsp;<code>Map&lt;String,&#8203;Object&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>hashCode</code>&nbsp;in class&nbsp;<code>AbstractMap&lt;String,&#8203;Object&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Object's hashCode.</dd>
</dl>
</li>
</ul>
<a id="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;equals&#8203;(Object&nbsp;obj)</pre>
<div class="block">Indicates whether an object is "equal to" this one.  Equality is determined solely by
 the value of <a href="#getId()"><code>getId()</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>equals</code>&nbsp;in interface&nbsp;<code>Map&lt;String,&#8203;Object&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>equals</code>&nbsp;in class&nbsp;<code>AbstractMap&lt;String,&#8203;Object&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>obj</code> - The object being compared to.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if obj is a ChangedTrackedMap with the same id as this one, false otherwise.</dd>
</dl>
</li>
</ul>
<a id="getter(nzilbb.ag.TrackedMap,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getter</h4>
<pre class="methodSignature">public&nbsp;Method&nbsp;getter&#8203;(<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;object,
                     String&nbsp;key)</pre>
<div class="block">Access the class's getter for the given attribute.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>object</code> - </dd>
<dd><code>key</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The getter, or null if there isn't one.</dd>
</dl>
</li>
</ul>
<a id="setter(nzilbb.ag.TrackedMap,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setter</h4>
<pre class="methodSignature">public static&nbsp;Method&nbsp;setter&#8203;(<a href="TrackedMap.html" title="class in nzilbb.ag">TrackedMap</a>&nbsp;object,
                            String&nbsp;key)</pre>
<div class="block">Access the class's getter for the given attribute.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>object</code> - </dd>
<dd><code>key</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The getter, or null if there isn't one.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>&copy; NZILBB - February 14 2020</i></small></p>
</footer>
</body>
</html>
