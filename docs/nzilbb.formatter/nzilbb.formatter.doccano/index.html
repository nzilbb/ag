<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/index.md.vm at 2025-11-05
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>nzilbb.formatter.doccano (0.1.1) â€“ nzilbb.formatter.doccano</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="https://nzilbb.github.io/ag/"><img src="https://nzilbb.github.io/ag/images/labbcat.png" /> nzilbb.formatter.doccano</a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href="https://www.canterbury.ac.nz/nzilbb/"><img src="https://nzilbb.github.io/ag/images/nzilbb.svg" /></a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-11-05<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.1.1<span class="divider">|</span></li>
      <li><a href="../../index.html">Annotation Graphs</a><span class="divider">/</span></li>
      <li><a href="../index.html">Formatters</a><span class="divider">/</span></li>
    <li class="active">nzilbb.formatter.doccano (0.1.1)</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="http://dx.doi.org/10.1016/j.csl.2017.01.004">Fromont (2017)</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://labbcat.canterbury.ac.nz/">LaBB-CAT</a></li>
        <li class="pull-right"><a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">nzilbb.formatter.doccano</li>
    <li><a href="https://raw.githubusercontent.com/nzilbb/ag/refs/heads/main/bin/nzilbb.formatter.doccano.jar">Download</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="nzilbb.formatter.doccano_.280.1.1.29"></a>
<h1>nzilbb.formatter.doccano (0.1.1)</h1>
<p>JSONL format for export/import with doccano</p>
<p>Serializer/deserializer for JSONL files compatible with
<a href="https://doccano.github.io/doccano/" class="externalLink">doccano</a></p>
<p>Doccano supports text-only (i.e. character offset) annotation, but also supports
importing arbitrary meta-data which is passed through from import to export, so when
the graph to serialize has temporal offsets
(i.e. Graph.getOffsetUnits() == &#x201c;s&#x201d;)
this meta-data is used to retain a mapping of character offsets to seconds.</p>
<p>The structure used is:</p>
<ul>

<li>each text is a transcript</li>
<li>each line is an utterance</li>
<li>the first utterance of each turn starts with the participant label, formatted:
&#x201c;${participant}:\t&#x201d;</li>
<li>span/phrase layers are tagged</li>
<li>meta-data:
<ul>

<li><em>transcript</em> - graph ID</li>
<li><em>anchors</em> - object keyed on layer ID, each value being array of couples,
one element for each annotation, each couple being the start time and end
time of the annotation. &#x201c;anchors&#x201d; will contain at least the
&#x201c;utterance&#x201d; offsets, one annotation for each line in the &#x201c;text&#x201d;</li>
</ul></li>
</ul>
<p><strong>NB</strong> If a graph is serialized with annotations, edited with Doccano, and
then exported for deserialization, the annotations included in the serialization will
be ignored during deserialization.</p>
<p>This is because serialized annotations have their original anchor offsets included,
but we can't guarantee that these annotations haven't been edited in Doccano, and so
the saved offsets may be no longer valid.</p>
<p>For this reason, Doccano can currently only be used to <strong>add</strong> annotations on
new layers, not for editing existing layers.</p></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<a rel='license' href='http://creativecommons.org/licenses/by-sa/2.0/'><img alt='CC-BY-SA Creative Commons Licence ' src='/ag/images/cc-by-sa.svg' title='This work is licensed under a Creative Commons Attribution-ShareAlike 2.0 Generic License' /></a><a rel='author' href='https://www.canterbury.ac.nz/nzilbb/'><img src='/ag/images/nzilbb.svg' alt='Te KÄhui Roro Reo | The New Zealand Institute of Language, Brain and Behaviour' title='ðŸ„¯ NZILBB'></a>
        </div>
      </div>
    </footer>
  </body>
</html>
