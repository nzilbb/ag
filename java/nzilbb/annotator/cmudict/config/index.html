<!DOCTYPE html>
<html>
  <head>
    <title> CMU Pronouncing Dictionary </title>    
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <link rel="stylesheet" href="index.css" type="text/css">
    <script src="index.js" type="text/javascript"></script>
  </head>
  <body>

    <h1> CMU Pronouncing Dictionary </h1>

    <p> This annotator tags words with their pronunciations according to the
      <a href="http://www.speech.cs.cmu.edu/cgi-bin/cmudict">CMU Pronouncing dictionary</a>,
      a machine-readable pronunciation dictionary for North American English that contains
      over 125,000 words and their transcriptions. </p> 

    <form method="POST" action="setConfig">
      <p> This page allows you to install a versionn of the <q>cmudict.txt</q> file. </p>
      <!--div class="field" 
          title="Whether to use the copy of the cmudict.txt file built in to the anntator, or upload your own version of it.">
        <label for="builtin"> Use built-in copy </label>
        <span><input id="builtin" name="builtin" type="checkbox"></span>
      </div-->
      <!--div class="field">
        <label for="cmudict"> Upload from file </label>
        <span><input id="cmudict" name="cmudict" type="file"></span>
      </div-->
      <div class="controls">
        <input type="submit" value="Install">
      </div>
    </form>

    <script type="text/javascript">

      // any annotator method can be called to interrogate the annotator
      getText( // (the getText function is defined in index.js)
          "getVersion", // <- the URL to GET from
          function(e) { // <- a function to execute when we have a response
              document.getElementById("version").innerHTML = this.responseText;
          });
      
      // getConfig gets the current setup configuration, if any
      // in this case, it gets the values of all declared properties of the annotator
      // encoded as an HTML query string
      getText( // (the getText function is defined in index.js)
          "getConfig", // <- the URL to GET from
          function(e) { // <- a function to execute when we have a response
              // in this case, the properties of the annotator are encoded as an HTML query string
              // so we can use URLSearchParams to decode it
              var parameters = new URLSearchParams(this.responseText);

              // set the input values of the form appropriately
              document.getElementById("reverse").checked
                  = parameters.get("reverse");
              document.getElementById("leftPadding").value
                  = parameters.get("leftPadding");
              document.getElementById("rightPadding").value
                  = parameters.get("rightPadding");
              document.getElementById("simulatedInstallationDuration").value
                  = parameters.get("simulatedInstallationDuration");
          });
      
    </script>
    
    <footer><div> CMU Pronouncing Dictionary <small id="version"></small> </div></footer>
  </body>
</html>
