<!DOCTYPE html>
<html><head><title>Jython Annotator</title></head>
  <body>
    <h1>Jython Annotator</h1>

    <p> The Jython Layer Manager allows annotations to be generated by executing a
      script written in Python. </p> 
    
    <p> The script is executed for each transcript, with a variable
      called <var>transcript</var> which stores the transcript's Annotation
      Graph. <var>transcript</var> can be traversed to inspect annotations, and can have
      annotations added to it (on this layer only), which will be saved back to
      LaBB-CAT&#39;s annotation store when the script completes. </p>
    
    <p> The <var>transcript</var> variable is populated with annotations from the layers
      that are ticked on the panel to the right of the script. Only those layers will be
      available to the script, no other layers are loaded.</p>
    
    <p> The script might look something like the following, which tags each word with its
      length:</p> 
<pre>
<span style="color:#8b4513;"># for each turn in the transcript</span>
<span style="color:#800080;">for</span> turn <span style="color:#800080;">in</span> transcript.all(&quot;turns&quot;):
&nbsp; <span style="color:#800080;">if</span> annotator.cancelling: <span style="color:#800080;">break</span> <span style="color:#8b4513;"># cancelled by the user</span>
&nbsp; <span style="color:#8b4513;"># for each word</span>
&nbsp; <span style="color:#800080;">for</span> word <span style="color:#800080;">in</span> turn.all(&quot;word&quot;):
&nbsp;&nbsp;&nbsp; <span style="color:#8b4513;"># tag the word with it's length</span>
&nbsp;&nbsp;&nbsp; word.createTag(thisLayer.id, &quot;length: &quot; + str(len(word.label)))
&nbsp;&nbsp;&nbsp; log("Tagged word: " + word.label)
</pre>
  </body>
</html>
